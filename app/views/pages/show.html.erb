<%# ============================================ %>
<%# app/views/pages/show.html.erb %>
<%# Feature 1.4 - 显示可编辑的 About/Contact 页面 %>
<%# ============================================ %>

<% content_for :title, "#{@page.title} - Northern Harvest" %>

<div class="container py-5">
  <!-- Breadcrumbs -->
  <%= render 'shared/breadcrumbs', items: [
    { name: 'Home', path: root_path },
    { name: @page.title, path: nil }
  ] %>

  <div class="row justify-content-center">
    <div class="col-lg-8">
      <article class="page-content">
        <h1 class="display-5 mb-4"><%= @page.title %></h1>
        
        <div class="content">
          <%= raw @page.content %>
        </div>
      </article>
    </div>
  </div>
</div>

<%# ============================================ %>
<%# Kaminari 配置 %>
<%# 运行: rails g kaminari:views bootstrap5 %>
<%# 或手动创建以下文件 %>
<%# ============================================ %>

<%# app/views/kaminari/_paginator.html.erb %>
<%#
<%= paginator.render do %>
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <%= first_page_tag unless current_page.first? %>
      <%= prev_page_tag unless current_page.first? %>
      <% each_page do |page| %>
        <% if page.left_outer? || page.right_outer? || page.inside_window? %>
          <%= page_tag page %>
        <% elsif !page.was_truncated? %>
          <%= gap_tag %>
        <% end %>
      <% end %>
      <%= next_page_tag unless current_page.last? %>
      <%= last_page_tag unless current_page.last? %>
    </ul>
  </nav>
<% end %>
%>

<%# app/views/kaminari/_page.html.erb %>
<%#
<% if page.current? %>
  <li class="page-item active">
    <span class="page-link"><%= page %></span>
  </li>
<% else %>
  <li class="page-item">
    <%= link_to page, url, class: 'page-link', remote: remote %>
  </li>
<% end %>
%>

<%# app/views/kaminari/_prev_page.html.erb %>
<%#
<li class="page-item">
  <%= link_to_unless current_page.first?, '‹ Prev', url, class: 'page-link', remote: remote %>
</li>
%>

<%# app/views/kaminari/_next_page.html.erb %>
<%#
<li class="page-item">
  <%= link_to_unless current_page.last?, 'Next ›', url, class: 'page-link', remote: remote %>
</li>
%>

<%# app/views/kaminari/_gap.html.erb %>
<%#
<li class="page-item disabled">
  <span class="page-link">…</span>
</li>
%>